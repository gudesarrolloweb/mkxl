<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>MKXL ‚Äì Movimientos</title>
<style>
  :root {
    --color-bg: #0d0d0d;
    --color-text: #eee;
    --color-combo: #42a5f5;
    --color-fatality: #ef5350;
    --color-brutality: #fbc02d;
    --color-border: #e50914;
    --color-separator: #444;
  }
  body {
    background-color: var(--color-bg);
    color: var(--color-text);
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0; padding: 20px;
    scroll-behavior: smooth;
  }
  h1 {
    text-align: center;
    color: var(--color-border);
    margin-bottom: 1rem;
  }
  input[type="text"], select {
    display: block;
    margin: 0 auto 1rem;
    padding: 10px;
    font-size: 1rem;
    background: #111;
    color: var(--color-text);
    border: 1px solid var(--color-border);
    border-radius: 5px;
    max-width: 320px;
  }
  select {
    font-size: 1.1rem;
    cursor: pointer;
  }
  .container {
    max-width: 720px;
    margin: 0 auto;
    background: #1a1a1a;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 0 10px var(--color-border);
    opacity: 0;
    transition: opacity 0.4s ease;
  }
  .container.visible {
    opacity: 1;
  }
  .section-title {
    font-weight: 700;
    margin-top: 1rem;
    margin-bottom: 0.3rem;
  }
  #comboText {
    color: var(--color-combo);
    white-space: pre-wrap;
    font-size: 16px;
    line-height: 1.5;
    margin-bottom: 1rem;
  }
  #fatalityText {
    color: var(--color-fatality);
    white-space: pre-wrap;
    font-size: 16px;
    line-height: 1.5;
    margin-bottom: 1rem;
  }
  #brutalityText {
    color: var(--color-brutality);
    white-space: pre-wrap;
    font-size: 16px;
    line-height: 1.5;
    margin-bottom: 1rem;
  }
  .separator {
    height: 1px;
    background: var(--color-separator);
    margin: 10px 0;
  }
  /* Filter tags */
  #filterTags {
    text-align: center;
    margin-bottom: 1rem;
  }
  .filter-tag {
    cursor: pointer;
    display: inline-block;
    padding: 5px 12px;
    border-radius: 15px;
    background: #222;
    color: var(--color-text);
    margin: 0 5px;
    user-select: none;
    border: 1px solid transparent;
    transition: background 0.3s, border-color 0.3s;
  }
  .filter-tag.selected {
    background: var(--color-border);
    border-color: var(--color-text);
  }
  /* Tooltip */
  .tooltip {
    position: relative;
    cursor: help;
    border-bottom: 1px dotted var(--color-text);
  }
  .tooltip .tooltiptext {
    visibility: hidden;
    width: max-content;
    max-width: 220px;
    background-color: #222;
    color: var(--color-text);
    text-align: center;
    border-radius: 6px;
    padding: 5px;
    position: absolute;
    z-index: 1;
    bottom: 125%;
    left: 50%;
    transform: translateX(-50%);
    opacity: 0;
    transition: opacity 0.3s;
    font-size: 0.9rem;
  }
  .tooltip:hover .tooltiptext,
  .tooltip:focus .tooltiptext {
    visibility: visible;
    opacity: 1;
  }
  /* Scroll to top button */
  #scrollTopBtn {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: var(--color-border);
    color: var(--color-text);
    border: none;
    border-radius: 50%;
    width: 45px;
    height: 45px;
    font-size: 24px;
    cursor: pointer;
    box-shadow: 0 0 10px var(--color-border);
    display: none;
    z-index: 999;
  }
  #scrollTopBtn.show {
    display: block;
  }
  /* Fullscreen toggle button */
  #fullscreenBtn {
    position: fixed;
    bottom: 20px;
    left: 20px;
    background: var(--color-border);
    color: var(--color-text);
    border: none;
    border-radius: 5px;
    padding: 8px 12px;
    font-size: 14px;
    cursor: pointer;
    box-shadow: 0 0 10px var(--color-border);
    z-index: 999;
  }
  /* Responsive */
  @media (max-width: 768px) {
    body {
      padding: 10px;
    }
    h1 {
      font-size: 20px;
    }
  }
</style>
</head>
<body>
  <h1>MKXL ‚Äì Movimientos</h1>

  <input type="text" id="searchInput" placeholder="Buscar personaje..." aria-label="Buscar personaje" />

  <div id="filterTags" role="list" aria-label="Filtrar por estilo">
    <span class="filter-tag selected" data-style="all" role="listitem" tabindex="0">Todos</span>
    <span class="filter-tag" data-style="agresivo" role="listitem" tabindex="0">üéØ Agresivo</span>
    <span class="filter-tag" data-style="defensivo" role="listitem" tabindex="0">üõ° Defensivo</span>
    <span class="filter-tag" data-style="facil" role="listitem" tabindex="0">üë∂ F√°cil</span>
    <span class="filter-tag" data-style="avanzado" role="listitem" tabindex="0">üéÆ Avanzado</span>
  </div>

  <select id="characterSelect" aria-label="Seleccionar personaje">
    <option value="">Seleccion√° un personaje</option>
  </select>

  <div class="container" id="comboContainer" aria-live="polite" aria-atomic="true" style="display:none;">
    <div class="section-title">üí• Combos</div>
    <div id="comboText"></div>
    <div class="separator"></div>
    <div class="section-title">üéØ Fatalities</div>
    <div id="fatalityText"></div>
    <div class="separator"></div>
    <div class="section-title">‚ò†Ô∏è Brutalities</div>
    <div id="brutalityText"></div>
    <div class="separator"></div>
    <div class="section-title">‚ùì Glosario</div>
    <div id="glossaryText" style="font-size: 14px; line-height: 1.4; color: #bbb;">
      <b>Cancelar</b>: Interrumpir un movimiento para encadenar otro.<br/>
      <b>EX</b>: Movimiento especial mejorado.<br/>
      <b>X-Ray</b>: Movimiento especial que causa da√±o alto.<br/>
      <b>Dash</b>: Correr r√°pido hacia adelante.<br/>
      <b>Tooltip</b>: Informaci√≥n extra que aparece al pasar el cursor o tocar un s√≠mbolo.<br/>
    </div>
  </div>

  <button id="scrollTopBtn" aria-label="Volver arriba" title="Volver arriba">‚¨ÜÔ∏è</button>
  <button id="fullscreenBtn" aria-label="Pantalla completa" title="Pantalla completa">üñ•Ô∏è</button>

<script>
  // Iconos con tooltip info para m√≥vil y desktop
  const icons = {
    cuadrado: { symbol: '‚óª', desc: 'Cuadrado' },
    triangulo: { symbol: '‚ñ≤', desc: 'Tri√°ngulo' },
    circulo: { symbol: '‚óØ', desc: 'C√≠rculo' },
    equis: { symbol: '‚úñ', desc: 'Equis' },
    r2: { symbol: 'R2', desc: 'Bot√≥n R2' },
    l2: { symbol: 'L2', desc: 'Bot√≥n L2' },
    flechaArriba: { symbol: '‚Üë', desc: 'Flecha Arriba' },
    flechaAbajo: { symbol: '‚Üì', desc: 'Flecha Abajo' },
    flechaIzquierda: { symbol: '‚Üê', desc: 'Flecha Izquierda' },
    flechaDerecha: { symbol: '‚Üí', desc: 'Flecha Derecha' },
    dash: { symbol: 'Dash', desc: 'Correr r√°pido hacia adelante' }
  };

  // Personajes, todos con estilo, mejor variante, da√±o, combos, fatalities, brutalities y errores comunes
  const characters = [
    {
      id: "johnny",
      name: "Johnny Cage (Stunt Double)",
      comboDamage: 70,
      style: "agresivo",
      description: "Personaje √°gil con ataques r√°pidos y poderosos.",
      combo: [
        [icons.flechaIzquierda.symbol, "+", icons.cuadrado.symbol, ",", icons.triangulo.symbol, ",", icons.r2.symbol, "+", icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.circulo.symbol],
        ["Activar Stunt Double:", icons.flechaAbajo.symbol + icons.flechaIzquierda.symbol, "+", icons.cuadrado.symbol],
        [icons.flechaIzquierda.symbol, "+", icons.cuadrado.symbol, ",", icons.triangulo.symbol, ",", icons.flechaAbajo.symbol, "+", icons.equis.symbol, ",", icons.flechaDerecha.symbol, "+", icons.r2.symbol, "(X-Ray)"]
      ],
      fatality: {
        name: "(Little Improv)",
        distance: "Cercana",
        combo: [icons.flechaDerecha.symbol, icons.flechaIzquierda.symbol, icons.circulo.symbol, icons.triangulo.symbol]
      },
      brutality: {
        distance: "Cercana",
        condition: "Terminar el round con Nut Punch cargado",
        combo: [icons.flechaAbajo.symbol + icons.flechaIzquierda.symbol, "+", icons.circulo.symbol + " (mantenido)"]
      },
      errors: [
        "No mantengas presionado demasiado el bot√≥n durante el combo.",
        "Timing cr√≠tico para activar Stunt Double."
      ]
    },
    {
      id: "kunglao",
      name: "Kung Lao (Tempest)",
      comboDamage: 50,
      style: "avanzado",
      description: "Especialista en ataques con sombrero y movimientos impredecibles.",
      combo: [
        [icons.cuadrado.symbol, ",", icons.cuadrado.symbol, ",", icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.cuadrado.symbol],
        [icons.flechaArriba.symbol, "+", icons.cuadrado.symbol],
        [icons.flechaIzquierda.symbol, "+", icons.triangulo.symbol, ",", icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.cuadrado.symbol],
        [icons.triangulo.symbol, ",", icons.cuadrado.symbol, ",", icons.circulo.symbol, icons.flechaDerecha.symbol, ",", icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.triangulo.symbol]
      ],
      fatality: {
        name: "(Hat Trick)",
        distance: "Media",
        combo: [icons.flechaIzquierda.symbol, icons.flechaAbajo.symbol, icons.flechaIzquierda.symbol, icons.circulo.symbol]
      },
      brutality: {
        distance: "Cercana",
        condition: "Matar con Hat Spin manteniendo ‚óª presionado",
        combo: [icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.cuadrado.symbol]
      },
      errors: [
        "No mantengas presionado Hat Spin demasiado tiempo.",
        "Ejecuta movimientos r√°pido para combos largos."
      ]
    },
    {
      id: "liukang",
      name: "Liu Kang (Dragon‚Äôs Fire)",
      comboDamage: 55,
      style: "agresivo",
      description: "Combina velocidad y poder, ideal para ataques constantes.",
      combo: [
        [icons.cuadrado.symbol, ",", icons.cuadrado.symbol, ", cancelar con", icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.cuadrado.symbol],
        [icons.flechaIzquierda.symbol, "+", icons.triangulo.symbol, ", cancelar otra vez"],
        [icons.equis.symbol, ",", icons.equis.symbol, ", cancelar y terminar con", icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.circulo.symbol]
      ],
      fatality: {
        name: "(Burn Out)",
        distance: "Cercana",
        combo: [icons.flechaAbajo.symbol, icons.flechaIzquierda.symbol, icons.flechaDerecha.symbol, icons.cuadrado.symbol]
      },
      brutality: {
        distance: "Cercana",
        condition: "Terminar con Flying Dragon Kick y mantener presionado ‚Üí",
        combo: [icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.triangulo.symbol]
      },
      errors: [
        "Aseg√∫rate de cancelar a tiempo para continuar el combo.",
        "No mantener presionado demasiado el bot√≥n de ataque."
      ]
    },
    {
      id: "tanya",
      name: "Tanya (Kobu Jutsu)",
      comboDamage: 45,
      style: "facil",
      description: "Vers√°til y r√°pida, ideal para jugadores nuevos.",
      combo: [
        [icons.flechaIzquierda.symbol, "+", icons.circulo.symbol, ",", icons.cuadrado.symbol, ",", "R2", "+", icons.flechaAbajo.symbol + icons.flechaIzquierda.symbol, "+", icons.circulo.symbol],
        ["Corr√©:", icons.flechaDerecha.symbol, "+", icons.circulo.symbol, ",", icons.cuadrado.symbol, ",", "Drill Kick"]
      ],
      fatality: {
        name: "(Edenian Guillotine)",
        distance: "Lejos",
        combo: [icons.flechaDerecha.symbol, icons.flechaIzquierda.symbol, icons.flechaDerecha.symbol, icons.triangulo.symbol]
      },
      brutality: {
        distance: "Media",
        condition: "Equipar Kobu Jutsu y terminar con Drill Kick",
        combo: [icons.flechaAbajo.symbol + icons.flechaIzquierda.symbol, "+", icons.circulo.symbol]
      },
      errors: [
        "No confundas Drill Kick con otros ataques r√°pidos.",
        "Mant√©n ritmo constante en combos."
      ]
    },
    {
      id: "scorpion",
      name: "Scorpion (Hellfire)",
      comboDamage: 47,
      style: "defensivo",
      description: "Especialista en fuego y teletransportes, fuerte en defensa.",
      combo: [
        [icons.flechaIzquierda.symbol, "+", icons.triangulo.symbol, ",", icons.cuadrado.symbol],
        [icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.triangulo.symbol, "(Teleport)"],
        [icons.cuadrado.symbol, ",", icons.cuadrado.symbol],
        [icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.circulo.symbol, "(Fuego activado)"],
        [icons.flechaIzquierda.symbol, "+", icons.triangulo.symbol, ",", icons.cuadrado.symbol]
      ],
      fatality: {
        name: "(Just a Scratch)",
        distance: "Media",
        combo: [icons.flechaDerecha.symbol, icons.flechaIzquierda.symbol, icons.flechaAbajo.symbol, icons.triangulo.symbol]
      },
      brutality: {
        distance: "Cercana",
        condition: "Finalizar con Hellfire y no usar bloqueo en el round",
        combo: [icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.circulo.symbol]
      },
      errors: [
        "No abuses del teleport para evitar ser predecible.",
        "Tiempo preciso para activar Hellfire."
      ]
    },
    {
      id: "subzero",
      name: "Sub-Zero (Cryomancer)",
      comboDamage: 45,
      style: "defensivo",
      description: "Control del hielo para defensa y ataques estrat√©gicos.",
      combo: [
        [icons.flechaAbajo.symbol + icons.flechaIzquierda.symbol, "+", icons.triangulo.symbol, "(crear clon)"],
        [icons.flechaIzquierda.symbol, "+", icons.cuadrado.symbol, ",", icons.triangulo.symbol],
        [icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.cuadrado.symbol],
        ["Clon explota, luego:", icons.flechaDerecha.symbol, "+", icons.equis.symbol],
        [icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.triangulo.symbol]
      ],
      fatality: {
        name: "(Bed of Ice)",
        distance: "Cercana",
        combo: [icons.flechaAbajo.symbol, icons.flechaAbajo.symbol, icons.flechaIzquierda.symbol, icons.cuadrado.symbol]
      },
      brutality: {
        distance: "Cercana",
        condition: "Matar con Slide y mantener pulsado ‚Üí",
        combo: [icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.cuadrado.symbol]
      },
      errors: [
        "No olvides crear el clon antes de atacar.",
        "Mantener el timing en combos de hielo."
      ]
    },
    {
      id: "shinnok",
      name: "Shinnok (Impostor)",
      comboDamage: 50,
      style: "avanzado",
      description: "Controla poderes oscuros, requiere buena estrategia.",
      combo: [
        [icons.flechaDerecha.symbol, "+", icons.equis.symbol, ",", icons.cuadrado.symbol, ",", "R2", "+", icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.triangulo.symbol],
        [icons.flechaArriba.symbol, "+", icons.cuadrado.symbol],
        [icons.flechaIzquierda.symbol, "+", icons.triangulo.symbol, "con poder robado activado"],
        ["Corr√© y hac√©:", icons.flechaDerecha.symbol, "+", icons.equis.symbol, ",", icons.cuadrado.symbol]
      ],
      fatality: {
        name: "(Judgement Fist)",
        distance: "Media",
        combo: [icons.flechaIzquierda.symbol, icons.flechaIzquierda.symbol, icons.flechaAbajo.symbol, icons.triangulo.symbol]
      },
      brutality: {
        distance: "Cercana",
        condition: "Matar con poder robado en el √∫ltimo golpe",
        combo: ["Botones del ataque robado"]
      },
      errors: [
        "Usa bien el poder robado para combos √≥ptimos.",
        "No te quedes quieto en la estrategia."
      ]
    },
    {
      id: "erronblack",
      name: "Erron Black (Outlaw)",
      comboDamage: 48,
      style: "agresivo",
      description: "Tirador con armas de fuego y trucos letales.",
      combo: [
        [icons.flechaDerecha.symbol, "+", icons.triangulo.symbol, ",", icons.cuadrado.symbol],
        ["Clav√° espada:", icons.flechaAbajo.symbol + icons.flechaIzquierda.symbol, "+", icons.triangulo.symbol],
        [icons.flechaArriba.symbol, "+", icons.cuadrado.symbol],
        [icons.flechaIzquierda.symbol, "+", icons.cuadrado.symbol, ",", icons.cuadrado.symbol, "R2 + ‚Üì‚Üê + C√≠rculo (EX Granada)"]
      ],
      fatality: {
        name: "(Deadeye)",
        distance: "Lejos",
        combo: [icons.flechaIzquierda.symbol, icons.flechaAbajo.symbol, icons.flechaIzquierda.symbol, icons.circulo.symbol]
      },
      brutality: {
        distance: "Media",
        condition: "Finalizar con Sand Grenade EX",
        combo: [icons.flechaAbajo.symbol + icons.flechaIzquierda.symbol, "+", icons.circulo.symbol + " (EX)"]
      },
      errors: [
        "No olvides usar granadas EX para brutalities.",
        "Mant√©n la distancia para tiros efectivos."
      ]
    },
    {
      id: "alien",
      name: "Alien (Tarkatan)",
      comboDamage: 60,
      style: "avanzado",
      description: "Personaje poderoso y extra√±o, con ataques ex√≥ticos.",
      combo: [
        [icons.flechaDerecha.symbol, "+", icons.triangulo.symbol, icons.triangulo.symbol, ",", icons.cuadrado.symbol, ",", icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.circulo.symbol],
        [icons.flechaArriba.symbol, "+", icons.cuadrado.symbol],
        [icons.flechaIzquierda.symbol, "+", icons.cuadrado.symbol, ",", icons.cuadrado.symbol, ",", icons.flechaAbajo.symbol + icons.flechaDerecha.symbol, "+", icons.circulo.symbol]
      ],
      fatality: {
        name: "(Deadly Sting)",
        distance: "Media",
        combo: [icons.flechaIzquierda.symbol, icons.flechaDerecha.symbol, icons.flechaAbajo.symbol, icons.circulo.symbol]
      },
      brutality: {
        distance: "Cercana",
        condition: "Mantener presionado ‚Üì durante el √∫ltimo golpe (Back Stabber)",
        combo: [icons.flechaIzquierda.symbol, icons.cuadrado.symbol, icons.cuadrado.symbol, icons.triangulo.symbol]
      },
      errors: [
        "Cuidado con mantener presionado demasiado el bot√≥n final.",
        "Aprende bien los movimientos ex√≥ticos para combos."
      ]
    },
    {
      id: "jason",
      name: "Jason Voorhees (Relentless)",
      comboDamage: 75,
      style: "defensivo",
      description: "Lento pero muy fuerte, ideal para castigos.",
      combo: [
        [icons.flechaIzquierda.symbol, "+", icons.cuadrado.symbol, ",", icons.triangulo.symbol],
        ["R2 + ‚Üì‚Üí + C√≠rculo (agarre EX)"],
        ["Dash"],
        [icons.cuadrado.symbol, ",", icons.triangulo.symbol],
        [icons.flechaAbajo.symbol, "+", icons.equis.symbol, "‚Üí R2 (X-Ray)"]
      ],
      fatality: {
        name: "(Greatest Hits)",
        distance: "Media",
        combo: [icons.flechaIzquierda.symbol, icons.flechaAbajo.symbol, icons.flechaDerecha.symbol, icons.circulo.symbol]
      },
      brutality: {
        distance: "Cercana",
        condition: "Terminar con motosierra sin ser bloqueado",
        combo: [icons.flechaDerecha.symbol, "+", icons.cuadrado.symbol, icons.cuadrado.symbol, icons.triangulo.symbol]
      },
      errors: [
        "No dejes que te bloqueen la motosierra.",
        "Timing lento pero poderoso, cuidado con contraataques."
      ]
    }
  ];

  // FUNCIONES

  // Crear elementos con tooltip para √≠conos
  function iconWithTooltip(icon) {
    return `<span class="tooltip" tabindex="0" aria-label="${icon.desc}">${icon.symbol}<span class="tooltiptext">${icon.desc}</span></span>`;
  }

  // Formatear combos y movimientos para mostrar en HTML con tooltips
  function formatMoveArray(arr) {
    return arr.map(item => {
      if(typeof item === "string") {
        // Buscar √≠conos y reemplazar por spans con tooltip
        for(const key in icons) {
          if(item.includes(icons[key].symbol)) {
            item = item.split(icons[key].symbol).map((part, i, a) => {
              if(i === a.length - 1) return part;
              return part + iconWithTooltip(icons[key]);
            }).join('');
          }
        }
        return item;
      }
      return item;
    }).join(' ');
  }

  // Inicializar select y filtros
  const characterSelect = document.getElementById('characterSelect');
  const searchInput = document.getElementById('searchInput');
  const comboContainer = document.getElementById('comboContainer');
  const comboText = document.getElementById('comboText');
  const fatalityText = document.getElementById('fatalityText');
  const brutalityText = document.getElementById('brutalityText');
  const filterTags = document.querySelectorAll('.filter-tag');
  const scrollTopBtn = document.getElementById('scrollTopBtn');
  const fullscreenBtn = document.getElementById('fullscreenBtn');

  let currentStyleFilter = 'all';

  function populateSelect() {
    characterSelect.innerHTML = '<option value="">Seleccion√° un personaje</option>';
    let filtered = characters.filter(ch => currentStyleFilter === 'all' || ch.style === currentStyleFilter);
    filtered.forEach(ch => {
      const option = document.createElement('option');
      option.value = ch.id;
      option.textContent = `${ch.name} (${ch.comboDamage}%)`;
      characterSelect.appendChild(option);
    });
  }

  function filterCharactersBySearch() {
    const searchTerm = searchInput.value.trim().toLowerCase();
    let filtered = characters.filter(ch => (currentStyleFilter === 'all' || ch.style === currentStyleFilter) && ch.name.toLowerCase().includes(searchTerm));
    characterSelect.innerHTML = '<option value="">Seleccion√° un personaje</option>';
    filtered.forEach(ch => {
      const option = document.createElement('option');
      option.value = ch.id;
      option.textContent = `${ch.name} (${ch.comboDamage}%)`;
      characterSelect.appendChild(option);
    });
  }

  // Mostrar info personaje seleccionado
  function showCharacterInfo(id) {
    if(!id) {
      comboContainer.style.display = 'none';
      comboContainer.classList.remove('visible');
      return;
    }
    const ch = characters.find(c => c.id === id);
    if(!ch) return;

    // Formatear combos
    let comboHTML = ch.combo.map(cmb => formatMoveArray(cmb)).join('\n\n');
    let fatalityHTML = `<b>Distancia:</b> ${ch.fatality.distance}<br/><b>Comando:</b> ${formatMoveArray(ch.fatality.combo)}<br/><b>Nombre:</b> ${ch.fatality.name}`;
    let brutalityHTML = `<b>Distancia:</b> ${ch.brutality.distance}<br/><b>Condici√≥n:</b> ${ch.brutality.condition}<br/><b>Comando:</b> ${formatMoveArray(ch.brutality.combo)}`;

    comboText.innerHTML = comboHTML;
    fatalityText.innerHTML = fatalityHTML;
    brutalityText.innerHTML = brutalityHTML;

    comboContainer.style.display = 'block';
    setTimeout(() => comboContainer.classList.add('visible'), 10);

    // Scroll a resultados
    comboContainer.scrollIntoView({behavior: 'smooth'});
  }

  // Eventos
  characterSelect.addEventListener('change', () => {
    showCharacterInfo(characterSelect.value);
  });

  searchInput.addEventListener('input', () => {
    filterCharactersBySearch();
  });

  filterTags.forEach(tag => {
    tag.addEventListener('click', () => {
      filterTags.forEach(t => t.classList.remove('selected'));
      tag.classList.add('selected');
      currentStyleFilter = tag.getAttribute('data-style');
      filterCharactersBySearch();
      comboContainer.style.display = 'none';
      comboContainer.classList.remove('visible');
    });
    tag.addEventListener('keydown', (e) => {
      if(e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        tag.click();
      }
    });
  });

  // Scroll to top button
  window.addEventListener('scroll', () => {
    if(window.scrollY > 300) {
      scrollTopBtn.classList.add('show');
    } else {
      scrollTopBtn.classList.remove('show');
    }
  });
  scrollTopBtn.addEventListener('click', () => {
    window.scrollTo({top: 0, behavior: 'smooth'});
  });

  // Fullscreen toggle
  fullscreenBtn.addEventListener('click', () => {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen().catch(err => alert(`Error al activar pantalla completa: ${err.message}`));
    } else {
      document.exitFullscreen();
    }
  });

  // Iniciar
  populateSelect();
</script>
</body>
</html>
