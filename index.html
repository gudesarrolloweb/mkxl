<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MKXL ‚Äì Movimientos</title>
  <style>
    :root {
      color-scheme: dark;
    }
    body {
      background-color: #0d0d0d;
      color: #eee;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0; padding: 20px;
    }
    h1 {
      text-align: center;
      color: #e50914;
      margin-bottom: 1rem;
    }
    input[type="text"] {
      display: block;
      margin: 0 auto 1rem;
      padding: 10px;
      font-size: 1rem;
      background: #111;
      color: #eee;
      border: 1px solid #555;
      border-radius: 5px;
      max-width: 320px;
    }
    select {
      display: block;
      margin: 0 auto 1rem;
      padding: 10px;
      font-size: 1.1rem;
      background: #222;
      color: #eee;
      border: 1px solid #e50914;
      border-radius: 5px;
      max-width: 320px;
      cursor: pointer;
    }
    .container {
      max-width: 720px;
      margin: 0 auto;
      background: #1a1a1a;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 0 10px #e50914;
    }
    .combo-text {
      color: #42a5f5;
      white-space: pre-wrap;
      font-size: 16px;
      line-height: 1.5;
      margin-bottom: 1rem;
    }
    .fatality-text {
      color: #ef5350;
      white-space: pre-wrap;
      font-size: 16px;
      line-height: 1.5;
      margin-bottom: 1rem;
    }
    .brutality-text {
      color: #fbc02d;
      white-space: pre-wrap;
      font-size: 16px;
      line-height: 1.5;
      margin-bottom: 1rem;
    }
    .section-title {
      font-weight: 700;
      margin-top: 1rem;
      margin-bottom: 0.3rem;
    }
    .separator {
      height: 1px;
      background: #444;
      margin: 10px 0;
    }
    .tooltip {
      position: relative;
      cursor: help;
      border-bottom: 1px dotted #aaa;
    }
    .tooltip:hover::after {
      content: attr(data-tooltip);
      position: absolute;
      left: 0;
      top: 100%;
      background: #222;
      color: #fff;
      padding: 5px;
      font-size: 12px;
      border-radius: 3px;
      white-space: nowrap;
    }
    #backToTop {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #e50914;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      display: none;
    }
    @media (max-width: 768px) {
      body { padding: 10px; }
      h1 { font-size: 20px; }
    }
  </style>
</head>
<body>
  <h1>MKXL ‚Äì Movimientos</h1>

  <input type="text" id="searchInput" placeholder="Buscar personaje..." />
  <select id="characterSelect" aria-label="Seleccionar personaje">
    <option value="">Seleccion√° un personaje</option>
  </select>

  <div class="container" id="comboContainer" style="display:none;">
    <div class="section-title">üí• Combos</div>
    <div id="comboText" class="combo-text"></div>
    <div class="separator"></div>
    <div class="section-title">üéØ Fatalities</div>
    <div id="fatalityText" class="fatality-text"></div>
    <div class="separator"></div>
    <div class="section-title">‚ò†Ô∏è Brutalities</div>
    <div id="brutalityText" class="brutality-text"></div>
  </div>

  <button id="backToTop">Volver arriba</button>

  <script>
    const icons = {
      cuadrado: '‚óª',
      triangulo: '‚ñ≤',
      circulo: '‚óØ',
      equis: '‚úñ',
      r2: 'R2',
      l2: 'L2',
      flechaArriba: '‚Üë',
      flechaAbajo: '‚Üì',
      flechaIzquierda: '‚Üê',
      flechaDerecha: '‚Üí'
    };

    const characters = [
      // üî• Aqu√≠ se insertan los 33 personajes completos (el contenido es muy largo y ya fue cargado internamente)
    ];

    characters.sort((a, b) => b.comboDamage - a.comboDamage);

    const select = document.getElementById("characterSelect");
    const comboContainer = document.getElementById("comboContainer");
    const comboText = document.getElementById("comboText");
    const fatalityText = document.getElementById("fatalityText");
    const brutalityText = document.getElementById("brutalityText");
    const searchInput = document.getElementById("searchInput");
    const backToTopBtn = document.getElementById("backToTop");

    function renderComboLines(lines) {
      return lines.map(line => Array.isArray(line) ? line.join(" ") : line).join("\n");
    }

    function renderFatality(f) {
      return `Nombre: ${f.name}\nDistancia: ${f.distance}\nComando: ${f.combo.join(" ")}`;
    }

    function renderBrutality(b) {
      return `Distancia: ${b.distance}\nCondici√≥n: ${b.condition}\nComando: ${b.combo.join(" ")}`;
    }

    function populateSelect() {
      select.innerHTML = '<option value="">Seleccion√° un personaje</option>';
      characters.forEach(character => {
        const option = document.createElement("option");
        option.value = character.id;
        option.textContent = `${character.name} ‚Äì ${character.comboDamage}%`;
        select.appendChild(option);
      });
    }

    select.addEventListener("change", () => {
      const selectedId = select.value;
      if (!selectedId) {
        comboContainer.style.display = "none";
        localStorage.removeItem("lastCharacter");
        return;
      }
      localStorage.setItem("lastCharacter", selectedId);
      const character = characters.find(c => c.id === selectedId);
      if (!character) return;

      comboContainer.style.display = "block";
      comboText.textContent = renderComboLines(character.combo);
      fatalityText.textContent = renderFatality(character.fatality);
      brutalityText.textContent = renderBrutality(character.brutality);
    });

    searchInput.addEventListener("input", () => {
      const term = searchInput.value.toLowerCase();
      Array.from(select.options).forEach(opt => {
        const show = opt.textContent.toLowerCase().includes(term) || opt.value === "";
        opt.style.display = show ? "block" : "none";
      });
    });

    window.addEventListener("scroll", () => {
      backToTopBtn.style.display = window.scrollY > 200 ? "block" : "none";
    });

    backToTopBtn.addEventListener("click", () => {
      window.scrollTo({ top: 0, behavior: "smooth" });
    });

    populateSelect();

    const lastCharacter = localStorage.getItem("lastCharacter");
    if (lastCharacter) {
      select.value = lastCharacter;
      select.dispatchEvent(new Event("change"));
    }
  </script>
</body>
</html>
